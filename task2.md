# DoD pour les tâches du sprint
- La tâche a été implémenté
- Les tests unitaires ou e2e correspondantes ont été exécutés et elles passent
- La tâche a été push
- La tâche a été revue au moins un pair

# Liste des tâches
|  ID  | US ID | Task                                                         | Durée | Dépendance | DOD                                                          | État  | Assigné |
| :--: | :---: | :----------------------------------------------------------- | :---: | :--------: | ------------------------------------------------------------ | ----- | :-----: |
| T01  |  01   | Créer et implémenter le template `register.ejs` contenant le formulaire d'ajout d'un nouvel utilisateur. Le formulaire devra contenir les champs: e-mail, pseudonyme, mot de passe et confirmation du mot de passe. Un bouton "S'inscrire" devra soumettre le formulaire avec la méthode POST vers la route`/user/signup` et un bouton "Se connecter" devra rediriger vers la page de connexion (GET: `/user/login`) .  La page devra contenir un élément html (div ou alert bootstrap) pour afficher les éventuelles erreurs. |   1   |            |                                                              | DONE  | elhadj  |
| T02  |  01   | ajouter une route GET et une route POST (`/user/signup`) pour traiter l'inscription d'un nouvel utilisateur. La route GET devra simplement afficher la page d'inscription `register.ejs`. La route POST devra permettre l'enregistrement d'un utilisateur en vérifiant que le mot de passe entré et sa confirmation sont identiques. Si l'inscription a reussi alors rédiriger l'utlisateur vers la page de connexion login.ejs sinon le rédiriger vers la page d'inscription register.ejs avec un message d'erreur. |   2   |            |                                                              | DONE  | elhadj  |
| T03  |  02   | Créer et implémenter le template `login.ejs` contenant le formulaire de connexion pour un utilisateur. Le formulaire devra permettre la saisie d'une adresse e-mail et d'un mot de passe. Un bouton "Se connecter" devra rediriger l'utilisateur au POST de `/user/login` et un lien "Créer un compte" devra rediriger vers la page d'inscription (GET: `/user/signup`). La page devra contenir un élément html (div ou alert bootstrap) pour afficher les éventuelles erreurs. |   1   |            |                                                              | DONE  | elhadj  |
| T04  |  02   | Ajouter une route GET et une route POST (`/user/login`) pour gérer l'authentification d'un utilisateur. La route GET devra simplement afficher le template login.ejs tandis que la route POST devra traité l'authentification. Si l'authentification a réussi alors rediriger l'utilisateur sur la page contenant la liste de ses projets (GET: `/projects`). Sinon le rediriger vers la page de connexion (login.ejs) avec un message d'erreur. |   2   |            |                                                              | DONE  | elhadj  |
| T05  |  03   | Créer et implémenter le template `createProject.ejs` contenant un formulaire pour la création d'un projet. Le formulaire devra contenir un input text pour le titre du projet (obligatoire) et un textarea pour la description du projet (optionnel). Un bouton "Créer" devra valider le formulaire en redirigeant au POST de `/project/new` et un bouton "annuler" devra rediriger au GET de `/projects`. |   1   |            | - La page de création de projet doit contenir un formulaire avec la méthode POST et l'action `/project/new`.<br />- Le formulaire contient un input text requis pour le titre du projet<br />- Le formulaire contient un textarea (non requis) pour la description du projet.<br />- Un bouton "Créer" doit valider le formulaire (submit)<br />- Un bouton "Annuler" doit rediriger vers `/projects` | DONE  | Arnaud  |
| T06  |  03   | Créer le template `projects.ejs` et y ajouter un bouton "Créer un projet". Un clic sur ce bouton doit afficher la page de création d'un projet en redirigeant au GET de `/project/new`. |   1   |            | - Un fichier `project.ejs` est créé dans `/template`<br />- Un bouton "Créer un projet" est affiché sur la page et redirige vers la page de création de projet (`/project/new`). | DONE  | Arnaud  |
| T07  |  03   | Ajouter une route GET et une route POST (`/project/new`) pour la création d'un projet. La route GET devra afficher le template createProject.ejs tandis que la route POST devra ajouter le nouveau projet en base de données. Si l'ajout du projet a réussi alors rediriger l'utilisateur sur la page contenant la liste de ses projets (GET: `/projects`). Sinon le rediriger sur la page de création de projet (GET: `/project/new`) avec un message de l'erreur survenue. |   2   |            | - L'accès à `/project/new` doit afficher la page de création de projet.<br />- La validation du formulaire de création de projet ajoute le projet à la table `cdp_project` avec les champs name, description et ownerid.<br />- L'échec de l'ajout d'un projet doit rediriger vers la page de création de projet avec un message décrivant l'erreur. | DONE  | Arnaud  |
| T08  |  05   | Dans `projects.ejs` afficher la liste des projets d'un utilisateur avec les champs nom du projet, description et propriétaire ainsi qu'une barre de recherche permettant de rechercher dans les projets selon tous les champs. Un clic sur un des projets devra rediriger l'utilisateur vers le backlog du projet (GET: `/backlog/{projectId}`). |   2   |    T06     | - Un fichier `project.js` est créé dans `data/js` pour gérer le javascript de `project.ejs` côté client.<br />Dans le fichier `projects.ejs` :<br />- Une liste de projets est affichée avec **tous** les projets de l'utilisateur.<br />- Une barre de recherche est présente et la liste de projets inclut seulement les termes entrés dans la barre de recherche lorsque celle-ci n'est pas vide.<br />- Un clic sur un des projets de la liste redirige vers la page de ce projet (/backlog/{projectId}). | DONE  | Arnaud  |
| T09  |  05   | Ajouter une route GET (`/projects`) permettant de récupérer la liste des projets de l'utilisateur. L'utilisateur devra être redirigé vers le template `projects.ejs` avec une variable contenant la liste des projets récupérés. |   1   |            | - Une fonction `getUserProjects` dans le fichier `/server/models/project.js` fait un appel à la base de données et renvoie tous les projets de l'utilisateur dont l'id est en paramètre avec les champs id du projet, nom du projet, description et pseudonyme du propriétaire du projet.<br /> - Une fonction `getAllProjects` dans le fichier `/server/controllers/project.js` appelle la fonction `getUserProjects` et envoie à l'utilisateur le template `project.ejs` accompagné des résultats de l'appel à la base de données.<br />- Une route GET est créée dans le fichier `/server/routes/project.js` appelant la fonction `getAllProjects` du contrôleur `projectController` | DONE  | Arnaud  |
| T10  |  09   | Créer le template `backlog.ejs` et y ajouter un bouton "créer U.S". Un clic sur ce bouton devra afficher une modale (bootstrap) contenant le formulaire d'ajout d'une US avec les champs description (textarea), priorité(liste déroulante) et difficulté (number). Un bouton "valider" (sur la modale) devra valider le formulaire en redirigeant au POST de `/backlog/us` et un bouton cancel devra fermer la modale. |   2   |            |                                                              | DOING | elhadj  |
| T11  |  09   | Ajouter une route POST (`/backlog/us`) qui permettra d'ajouter une US dans la base de données. Une fois l'ajout effectué rediriger l'utilisateur au GET de `/backlog/{idProject}` pour afficher le backlog. |   1   |            |                                                              | TODO  |         |
| T12  |  11   | Ajouter dans le fichier `backlog.ejs` un tableau avec les colonnes description, identifiant, importance et difficulté pour afficher les U.S d'un projet de l'utilisateur. |   2   |            |                                                              | TODO  |         |
| T13  |  11   | Ajouter une route GET (`backlog/{idProject}`) permettant d'afficher le backlog d'un projet. Une fois les U.S du projet récupérées dans la base de données, rediriger l'utilisateur vers le template backlog.ejs avec une variable contenant la liste des U.S récupérées. Si aucune U.S n'a été trouvée alors renvoyer une liste vide. |   2   |            |                                                              | TODO  |         |
| T14  |  10   | Dans `backlog.ejs` faire en sorte qu'un clic sur une U.S du backlog fasse apparaître (à droite du backlog) un formulaire prérempli avec les informations de l'U.S sur laquelle l'utilisateur a cliqué. Les informations à mettre dans le formulaire sont la description de l'US, son importance (liste déroulante), et sa difficulté. Un bouton "modifier" devra rediriger au PUT de `/backklog/us/{idUs}` et un bouton "supprimer" devra rediriger au DELETE de `/backlog/us/{idUs}`. |   3   |            |                                                              | TODO  |         |
| T15  |  10   | Ajouter une route PUT et une route DELETE (`/backlog/us/{idUs}`) permettant la modification et la suppression d'une U.S. Une fois la suppression ou bien la modification effectuée, afficher le backlog (GET: `/backlog/{idProject}`). |   2   |            |                                                              | TODO  |         |
| T16  |  26   | créer et implémenter le template `menu.ejs`. Ce fichier devra contenir un menu (bootstrap) avec les items projets , backlog, sprints et taches pour afficher respectivement les projets, le backlog, les sprints et les tâches. |   2   |            |                                                              | TODO  |         |